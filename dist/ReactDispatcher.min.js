!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var s;"undefined"!=typeof window?s=window:"undefined"!=typeof global?s=global:"undefined"!=typeof self&&(s=self),s.ReactDispatcher=e()}}(function(){return function e(s,t,r){function n(i,c){if(!t[i]){if(!s[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[i]={exports:{}};s[i][0].call(f.exports,function(e){var t=s[i][1][e];return n(t?t:e)},f,f.exports,e,s,t,r)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}({"./app/main.js":[function(e,s){"use strict";function t(e){this.callbacks=[],this.promises=[],this.stores=e}var r=e("es6-promise").Promise,n=e("./isValidDependencyLayout.js"),o=e("./compareArraysWithProp.js"),i=function(e,s){for(var t=0;t<e.length;t++)if(e[t].store===s)return e[t]},c=function(e,s){return function(t,c,a){if(c=Array.isArray(c)?c:[c],arguments.length<2)throw new Error("Missing argument(s) in waitFor()");var u=o(null,c,"store",s.callbacks);if(!u)throw new Error("You have passed invalid stores to waitFor()");var f=i(s.callbacks,e);if(f.deps=c,n("store",s.callbacks)){var l=s.callbacks.map(function(e,t){return c.indexOf(e.store)>=0?s.promises[t]:void 0});return r.all(l).then(a.bind(e,t))}throw new Error("There is an infinite loop on your waitFor handling")}},a=function(e,s){return function(t,r){var n=s.call(e,t,r);return void 0===n?!0:n}};t.prototype={register:function(e,s){if(arguments.length<2||null!==typeof e&&"object"!=typeof e||"function"!=typeof s)throw new Error("You are passing the wrong arguments to register()");this.callbacks.push({store:e,func:a(e,s),deps:[],waitFor:c(e,this)})},dispatch:function(e){var s=[],t=[];e=e||{},this.promises=this.callbacks.map(function(e,n){return new r(function(e,r){s[n]=e,t[n]=r})}),this.callbacks.forEach(function(n,o){r.resolve(n.func(e,n.waitFor.bind(null,e))).then(function(t){s[o](t||e)},function(e){new Error("Dispatcher callback unsuccessful"),t[o](e)})}),this.promises=[]}},s.exports=t},{"./compareArraysWithProp.js":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/app/compareArraysWithProp.js","./isValidDependencyLayout.js":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/app/isValidDependencyLayout.js","es6-promise":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/main.js"}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/app/compareArraysWithProp.js":[function(e,s){"use strict";s.exports=function(e,s,t,r){for(var n=0;n<s.length;n++){for(var o=!1,i=0;i<r.length;i++)(e?s[n][e]:s[n])===(t?r[i][t]:r[i])&&(o=!0);if(!o)return!1}return!0}},{}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/app/isValidDependencyLayout.js":[function(e,s){"use strict";var t=e("./permute.js"),r=e("./compareArraysWithProp.js");s.exports=function(e,s){s=s.slice(0);var n=[],o=t(s.length),i=0;for(s.sort(function(e,s){return e.deps.length<s.deps.length});s.length;){if(i>o)return!1;i++;var c=s[0],a=r(null,c.deps,e,n);a?(n.push(c),s.splice(0,1)):s=s.concat(s.splice(0,1))}return n}},{"./compareArraysWithProp.js":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/app/compareArraysWithProp.js","./permute.js":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/app/permute.js"}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/app/permute.js":[function(e,s){"use strict";s.exports=function(e,s){s||(s=e);for(var t=[],r=s;r>s-e;r--)t.push(r);return t.reduce(function(e,s){return e*s})}},{}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/browserify/node_modules/process/browser.js":[function(e,s){function t(){}var r=s.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,s="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(s){var t=[];return window.addEventListener("message",function(e){var s=e.source;if((s===window||null===s)&&"process-tick"===e.data&&(e.stopPropagation(),t.length>0)){var r=t.shift();r()}},!0),function(e){t.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=t,r.addListener=t,r.once=t,r.off=t,r.removeListener=t,r.removeAllListeners=t,r.emit=t,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/main.js":[function(e,s,t){"use strict";var r=e("./promise/promise").Promise,n=e("./promise/polyfill").polyfill;t.Promise=r,t.polyfill=n},{"./promise/polyfill":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/polyfill.js","./promise/promise":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/promise.js"}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/all.js":[function(e,s,t){"use strict";function r(e){var s=this;if(!n(e))throw new TypeError("You must pass an array to all.");return new s(function(s,t){function r(e){return function(s){n(e,s)}}function n(e,t){c[e]=t,0===--a&&s(c)}var i,c=[],a=e.length;0===a&&s([]);for(var u=0;u<e.length;u++)i=e[u],i&&o(i.then)?i.then(r(u),t):n(u,i)})}var n=e("./utils").isArray,o=e("./utils").isFunction;t.all=r},{"./utils":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/utils.js"}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/asap.js":[function(e,s,t){(function(e,s){"use strict";function r(){return function(){e.nextTick(i)}}function n(){var e=0,s=new f(i),t=document.createTextNode("");return s.observe(t,{characterData:!0}),function(){t.data=e=++e%2}}function o(){return function(){l.setTimeout(i,1)}}function i(){for(var e=0;e<d.length;e++){var s=d[e],t=s[0],r=s[1];t(r)}d=[]}function c(e,s){var t=d.push([e,s]);1===t&&a()}var a,u="undefined"!=typeof window?window:{},f=u.MutationObserver||u.WebKitMutationObserver,l="undefined"!=typeof s?s:void 0===this?window:this,d=[];a="undefined"!=typeof e&&"[object process]"==={}.toString.call(e)?r():f?n():o(),t.asap=c}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/browserify/node_modules/process/browser.js"}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/config.js":[function(e,s,t){"use strict";function r(e,s){return 2!==arguments.length?n[e]:void(n[e]=s)}var n={instrument:!1};t.config=n,t.configure=r},{}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/polyfill.js":[function(e,s,t){(function(s){"use strict";function r(){var e;e="undefined"!=typeof s?s:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var s;return new e.Promise(function(e){s=e}),o(s)}();t||(e.Promise=n)}var n=e("./promise").Promise,o=e("./utils").isFunction;t.polyfill=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./promise":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/promise.js","./utils":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/utils.js"}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/promise.js":[function(e,s,t){"use strict";function r(e){if(!v(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof r))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],n(e,this)}function n(e,s){function t(e){u(s,e)}function r(e){l(s,e)}try{e(t,r)}catch(n){r(n)}}function o(e,s,t,r){var n,o,i,c,f=v(t);if(f)try{n=t(r),i=!0}catch(d){c=!0,o=d}else n=r,i=!0;a(s,n)||(f&&i?u(s,n):c?l(s,o):e===D?u(s,n):e===U&&l(s,n))}function i(e,s,t,r){var n=e._subscribers,o=n.length;n[o]=s,n[o+D]=t,n[o+U]=r}function c(e,s){for(var t,r,n=e._subscribers,i=e._detail,c=0;c<n.length;c+=3)t=n[c],r=n[c+s],o(s,t,r,i);e._subscribers=null}function a(e,s){var t,r=null;try{if(e===s)throw new TypeError("A promises callback cannot return that same promise.");if(h(s)&&(r=s.then,v(r)))return r.call(s,function(r){return t?!0:(t=!0,void(s!==r?u(e,r):f(e,r)))},function(s){return t?!0:(t=!0,void l(e,s))}),!0}catch(n){return t?!0:(l(e,n),!0)}return!1}function u(e,s){e===s?f(e,s):a(e,s)||f(e,s)}function f(e,s){e._state===b&&(e._state=x,e._detail=s,m.async(d,e))}function l(e,s){e._state===b&&(e._state=x,e._detail=s,m.async(p,e))}function d(e){c(e,e._state=D)}function p(e){c(e,e._state=U)}var m=e("./config").config,h=(e("./config").configure,e("./utils").objectOrFunction),v=e("./utils").isFunction,w=(e("./utils").now,e("./all").all),j=e("./race").race,y=e("./resolve").resolve,g=e("./reject").reject,_=e("./asap").asap;m.async=_;var b=void 0,x=0,D=1,U=2;r.prototype={constructor:r,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,s){var t=this,r=new this.constructor(function(){});if(this._state){var n=arguments;m.async(function(){o(t._state,r,n[t._state-1],t._detail)})}else i(this,r,e,s);return r},"catch":function(e){return this.then(null,e)}},r.all=w,r.race=j,r.resolve=y,r.reject=g,t.Promise=r},{"./all":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/all.js","./asap":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/asap.js","./config":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/config.js","./race":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/race.js","./reject":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/reject.js","./resolve":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/resolve.js","./utils":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/utils.js"}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/race.js":[function(e,s,t){"use strict";function r(e){var s=this;if(!n(e))throw new TypeError("You must pass an array to race.");return new s(function(s,t){for(var r,n=0;n<e.length;n++)r=e[n],r&&"function"==typeof r.then?r.then(s,t):s(r)})}var n=e("./utils").isArray;t.race=r},{"./utils":"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/utils.js"}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/reject.js":[function(e,s,t){"use strict";function r(e){var s=this;return new s(function(s,t){t(e)})}t.reject=r},{}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/resolve.js":[function(e,s,t){"use strict";function r(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var s=this;return new s(function(s){s(e)})}t.resolve=r},{}],"/Users/christianalfoni/Documents/dev/flux-react-dispatcher/node_modules/es6-promise/dist/commonjs/promise/utils.js":[function(e,s,t){"use strict";function r(e){return n(e)||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}var i=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=r,t.isFunction=n,t.isArray=o,t.now=i},{}]},{},["./app/main.js"])("./app/main.js")});